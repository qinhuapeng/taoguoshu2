<section class="content-header">
  <h1>
    管理员设置
    <small>管理员列表</small>
  </h1>
<!--       <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Dashboard</li>
  </ol> -->
</section>
<!-- Main content -->
<section class="content" >
  <div class="row">
    <div class="col-xs-12">
      <div class="box box-info">
        <div class="box-header">
          <h3 class="box-title">管理员列表</h3>
          <button type="button" class="btn btn-primary pull-right" ng-click="adminEditModel(null)">新增管理员</button>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <table id="example2" class="table table-bordered table-hover">
            <thead>
            <tr>
              <th>ID</th>
              <th>账号</th>
              <th>角色名称</th>
              <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat = "row in list">
              <td>{{row.id}}</td>
              <td>{{row.name}}</td>
              <td>{{row.role_name}}</td>
              <td>
                <small class="label label-info" ng-click="adminEditModel(row)"><i class="fa fa-edit"></i>修改</small>
                <small class="label label-warning" ng-click="adminRemoveModel(row)"><i class="fa fa-trash-o"></i>删除</small>
                <small class="label label-primary" ng-click="adminPasswordModel(row)"><i class="fa fa-key"></i>密码修改</small>
              </td>
            </tr>
            </tbody>      
          </table>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->
    </div>
  </div>

</section>




<script type="text/ng-template" id="adminEditModel.html">
  <form name="operationForm" ng-submit="submitForm(operationForm.$valid)" class="form-horizontal" novalidate>
    <div class="modal-header">
        <h3 class="modal-title">管理员 新增\修改</h3>
    </div>
    <div class="modal-body">
      <div class="box-body">
        <div class="form-group">
          <label class="col-sm-2 control-label">账号</label>

          <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="admininfo.name" required>
          </div>
        </div>
        <div class="form-group" ng-if="!admininfo.id">
          <label class="col-sm-2 control-label">密码</label>

          <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="admininfo.password" required>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">角色</label>

          <div class="col-sm-10">
            <select selector model="admininfo.role_id" options="roleList" value-attr="id" label-attr="name" placeholder="请选择管理员角色" require="true"></select>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-disabled="operationForm.$invalid || save_spinner_display" ng-click="confirm()">确定</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
    </div>
  </form>
</script>


<script type="text/ng-template" id="adminPasswordModel.html">
  <form name="operationForm" ng-submit="submitForm(operationForm.$valid)" class="form-horizontal" novalidate>
    <div class="modal-header">
        <h3 class="modal-title">密码修改</h3>
    </div>
    <div class="modal-body">
      <div class="box-body">
        <div class="form-group">
          <label class="col-sm-2 control-label">密码</label>

          <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="admininfo.password1" required>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">密码确认</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="admininfo.password2" required>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-disabled="operationForm.$invalid || save_spinner_display" ng-click="confirm()">确定</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
    </div>
  </form>
</script>